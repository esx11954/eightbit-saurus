---
sidebar_position: 8
---

# 7. L2プロトコル・インラストラクチャサービス

<details>
    <summary>概要</summary>
    <div>

## L2（データリンク層）プロトコルの役割
**L2プロトコル**は、ルーターやスイッチなどのネットワーク機器が、物理的に直接接続されている隣の機器（ネイバー）が「何者か」を自動的に情報交換し、認識するための技術です。

これらのプロトコルは、ルーターのルーティング情報（L3）に頼るのではなく、直接繋がっているリンク（L2）を通じて情報を交換します。

---

### CDP（Cisco Discovery Protocol）
**CDP**は、名前の通り**Cisco Systems社が独自に開発したプロトコル**です。

| 項目 | 詳細 |
| :--- | :--- |
| **開発元** | **Cisco独自のプロトコル** |
| **機能** | 直接接続された**Cisco製**のルーターやスイッチの情報を自動的に収集する。 |
| **収集情報** | 隣接機器の**ホスト名**、**機種名（プラットフォーム）**、**接続ポート名**、**OSのバージョン**など。 |
| **用途** | 複雑なCiscoネットワークの構成を調べる際や、トラブルシューティングで非常に強力なツールとなる。 |

:::caution 注意点
**CDPはCisco機器同士でしか動作しません。**  
他社製の機器が隣に接続されていても、CDPによる情報交換は行われません。
:::

---

### LLDP（Link Layer Discovery Protocol）
**LLDP**は、CDPと同様の機能を持つ、**ベンダーに依存しない標準規格のプロトコル**です。

| 項目 | 詳細 |
| :--- | :--- |
| **開発元** | **IEEE 802.1AB**として標準化された**オープンな規格** |
| **機能** | 直接接続された**すべてのベンダーの機器**の情報を自動的に収集する。 |
| **収集情報** | ほぼCDPと同様（ホスト名、機種名、ポート情報など）。 |
| **用途** | 異なるメーカーの機器が混在するネットワーク環境で、機器の接続関係を調べる際に非常に有効。 |

---

### 比較と使い分け

| 項目 | CDP | LLDP |
| :--- | :--- | :--- |
| **互換性** | **Cisco製品のみ** | **ベンダーフリー（標準規格）** |
| **利用用途** | Cisco製品のみで構成された環境 | マルチベンダー環境（推奨） |
| **セキュリティ** | デフォルトで有効になっていることが多く、セキュリティ上のリスクから**無効化**が推奨される場合がある。 |

## 現場で使う確認コマンド
ルーターやスイッチにログインし、以下のコマンドを打つことで隣接機器の情報を瞬時に確認できます。

| プロトコル | 確認コマンド |
| :--- | :--- |
| **CDP** | `show cdp neighbors` |
| **LLDP** | `show lldp neighbors` |

<iframe src="https://drive.google.com/file/d/1E3clTQR-KKnuF_FP-w-VFs13hSuffUgi/preview" width="640" height="360" allow="fullscreen"></iframe>

　

## ネットワークインフラストラクチャのコアサービス

ネットワークを機能させるために最も重要なサービスを、その役割と合わせてまとめます。

-----

### IPアドレスと名前の管理

| サービス | 目的 | 役割 |
| :--- | :--- | :--- |
| **DHCP**<br />(Dynamic Host Configuration Protocol) | **IPアドレスの自動付与** | PCやスマホがネットワークに接続した際、**IPアドレス（住所）、サブネットマスク、デフォルトゲートウェイ**などの設定情報を自動で割り当てます。これがなければ、端末一台ごとに手動でIP設定を行う必要があります。 |
| **DNS**<br />(Domain Name System) | **名前解決** | 人間が覚えやすい名前（例: `google.com`）を、コンピュータが通信に使う**IPアドレス**に変換します。これがなければ、ウェブサイトを見るために毎回数字のIPアドレスを入力しなければなりません。 |


-----

### 認証・制御・同期

| サービス | 目的 | 役割 |
| :--- | :--- | :--- |
| **NTP**<br />(Network Time Protocol) | **正確な時刻の同期** | ネットワーク内のすべてのサーバーやルーターの時刻を正確に一致させます。これにより、障害発生時のログ分析やセキュリティ監査を正確に行うことが可能になります。 |
| **認証サービス**<br />(RADIUS / TACACS+) | **アクセス制御** | ユーザーがWi-FiやVPNに接続する際、または管理者がルーターにログインする際に、そのユーザーが**正当な利用者であるか**を確認・認証します。 |
| **ディレクトリサービス**<br />(LDAP / Active Directory) | **ユーザー情報の管理** | 組織内のユーザーアカウント、パスワード、アクセス権限などの情報を一元的に管理します。 |

-----

### 監視と管理

| サービス | 目的 | 役割 |
| :--- | :--- | :--- |
| **SNMP**<br />(Simple Network Management Protocol) | **機器の状態監視** | ネットワーク管理サーバーが、ルーターやスイッチの状態（CPU使用率、トラフィック量など）を定期的に収集し、障害の予兆を監視します。 |
| **Syslog** | **ログの収集** | ネットワーク機器やサーバーから発生したエラーやイベントのメッセージを一箇所に集約し、障害対応やセキュリティ監視に役立てます。 |

　
<iframe src="https://drive.google.com/file/d/1DCP8Nbg6zeUa4gl6zNexSU5TNEEu0M30/preview" width="640" height="360" allow="fullscreen"></iframe>

　

    </div>
</details>

<details>
    <summary>確認問題</summary>
    <div>
以下のファイルをダウンロードし、回答を記入して担当講師に送信して下さい。

[**確認問題**](./files/8.レイヤ2プロトコル・インフラストラクチャサービス_確認課題_名前.xlsx)

    </div>
</details>

