---
sidebar_position: 4
---

# OracleDB 指示書 3

## 運用上におけるデータ制御
---
### トランザクション
不特定多数が使用するDBの性質上、データの整合性の確保は非常に重要な概念です。  

教科書 p.134 ~ p.144を読んで理解を深めましょう。   
実行するために必要な情報は以下を参照して下さい。

- [トランザクション演習必要情報](./manual/page6.md)

### インデックス
DBのパフォーマンスを局所的に向上させる目的で使用されます。  
概念的には単純ですが、動作原理を理解しましょう。

教科書 p.145 ~ p.150を読んで理解を深めましょう。   
実行するために必要な情報は以下を参照して下さい。

- [インデックス演習必要情報](./manual/page7.md)

### ビュー
既存のテーブルから一時的なテーブルを作成する方法を学習します。  
ビューは特定の業務やサービスにおいて重要な機能と言えます。  

教科書 p.151 ~ p.156を読んで理解を深めましょう。   

### 制約
DBにデータを格納する上で、ルールを設けるために制約を活用します。  

教科書 p.157 ~ p.167を読んで理解を深めましょう。   
実行するために必要な情報は以下を参照して下さい。

- [制約演習必要情報](./manual/page8.md)

### シーケンス
Oracleにおいて、シーケンスはオブジェクトとして扱われます。  
格納データの連番を管理するために使用します。  

教科書 p.168 ~ p.170を読んで理解を深めましょう。   
実行するために必要な情報は以下を参照して下さい。

- [シーケンス演習必要情報](./manual/page9.md)

## ユーザ管理
---
OracleにはCDBやPDBという概念が存在することで、ユーザの管理もそれぞれで必要です。  
基本的なロールや権限は押さえておきましょう。

教科書 p.171 ~ p.196を読んで理解を深めましょう。   

## テーブル設計
---
様々な事を考慮してテーブルは設計されます。   
各側面から設計時の思案点について学習します。  

教科書 p.197 ~ p.250を読んで理解を深めましょう。  

### テーブル設計演習
これまでの学習内容を踏まえ、テーブルの設計演習を実施します。  
以下から演習用ファイルをダウンロードして下さい。

- [演習用ファイル](./files/ompdb.xlsx)

#### 演習説明
正規化がまったく行われておらず、1行の中に複数の繰り返し項目が存在するようなテーブルは非正規形と呼びます。  
演習用ファイル内の「購入履歴表」は上記の非正規形には該当しませんが、正規化されているとは言えない状態です。  

以下の要件を満たすように正規化を実施してみましょう。
- 購入履歴表から顧客情報を別テーブルとして定義する
- 購入履歴表から商品情報を別テーブルとして定義する
- 不要な列は削除し、必要な列は追加する
- 定義したテーブルは別のシートに記入する

:::tip
必要に応じて論理E-R図等を作成しましょう。
:::

ここまで完了したら講師にエクセルファイルを提出して下さい。  

次に、テーブル設計書を作成します。  
作成する上で、以下のサンプルスキーマを参考にしましょう。

- [サンプルスキーマ](./files/oracleDB_schema_sample.xlsx)

作成したテーブル設計書を元に、実際にテーブルを作成するためのクエリを作成して下さい。  
実行する際は、新たに `ompdb` というPDBを作成しましょう。

:::info
PDBを作成する際は以下を参考にしましょう。
- [研修用PDB及びユーザ作成](./manual/page3.md)  

#### PDB要件  

|PDB名|ローカル管理ユーザ名|パスワード|データディレクトリパス|
|---|---|---|---|
|ompdb|ompdb_admin|ompdb_admin|/u02/oradata/CDB1/ompdb/|
:::
