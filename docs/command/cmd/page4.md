---
sidebar_position: 2
---

# バッチ

バッチは、コマンドプロンプトで実行できるコマンドの集まりを、`.bat`ファイル にまとめたものです  
これを実行することでコマンドを一括実行することができます  

## 作成

バッチには、コマンドを組み合わせて一連の処理を記述することができます  
実際に作成してみましょう  


```powershell title="「C:\WorkSpace\」へ以下の内容のファイル「test.bat」を作成します"
@echo off
cd C:\WorkSpace
dir
type example.txt
pause
```

上記のバッチをエクスプローラー上からダブルクリックすることで

    1. 指定したフォルダに移動
    2. ファイルのリストを表示
    3. 任意のテキストファイルを開く

といった処理が実行されます  

## 特殊コマンド

バッチを記述する場合、特殊なコマンドを使用することでより複雑な処理を実行できます  

### リダイレクト

コマンドの後に `>` を利用することで、指定したファイルへ **コマンドの結果を出力** することできます  
ファイルが存在しない場合は、ファイルが新規作成されます  

```powershell title="例"

echo "リダイレクトします" > redirect.txt

```

:::tip
コマンドを実行したら、既に学習したコマンドを駆使して必ず結果を確認しましょう  
確認方法が分からない場合は、講師へ連絡しましょう  
:::

### pause

`pause`を記述すると、ユーザが何かしらの入力を実施するまで、その行で一旦処理を待機させることができます  

通常、バッチの処理が全て完了すると自動でコマンドプロンプト画面が終了されますが  
処理の最後で `pause` を記述することでコマンドプロンプト画面は閉じず、待機することができます  

```powershell title="例"

echo "バッチを実行しました"
pause

```

### @echo off

バッチ内でコマンドが実行される場合、コマンドプロンプト上にはコマンド入力行が表示されます  

```powershell title="例"
dir
echo "バッチを実行しました"
pause
```

```title="出力結果"
C:\WorkSpace>echo "バッチを実行しました"
"バッチを実行しました"
```

バッチの冒頭に `@echo off` を記述することで、コマンド入力行を非表示にできます  

```powershell title="例2"
@echo off
echo "バッチを実行しました"
pause
```

```title="出力結果"
"バッチを実行しました"
続行するには何かキーを押してください . . .
```